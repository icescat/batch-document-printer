# PDFæ‰“å°åŠŸèƒ½ä¿®å¤è¯´æ˜

## ğŸ”§ é—®é¢˜è¯Šæ–­

ä¹‹å‰çš„exeæ–‡ä»¶ä¸­PDFæ— æ³•æ‰“å°çš„åŸå› æ˜¯ï¼š
- **è·¯å¾„é—®é¢˜**: SumatraPDFçš„è·¯å¾„åœ¨PyInstalleræ‰“åŒ…åæ— æ³•æ­£ç¡®è§£æ
- **èµ„æºæ–‡ä»¶è®¿é—®**: exeæ–‡ä»¶ä¸­çš„å¤–éƒ¨èµ„æºæ–‡ä»¶è·¯å¾„éœ€è¦ç‰¹æ®Šå¤„ç†

## âœ… ä¿®å¤æªæ–½

### 1. åˆ›å»ºè·¯å¾„å·¥å…·æ¨¡å— (`src/utils/path_utils.py`)
- âœ… è‡ªåŠ¨æ£€æµ‹PyInstallerç¯å¢ƒ
- âœ… æ­£ç¡®è§£æä¸´æ—¶è§£å‹ç›®å½•ä¸­çš„èµ„æºæ–‡ä»¶è·¯å¾„
- âœ… æä¾›è°ƒè¯•ä¿¡æ¯è¾“å‡ºåŠŸèƒ½

### 2. ä¿®å¤PDFå¤„ç†å™¨ (`src/handlers/pdf_handler.py`)
- âœ… ä½¿ç”¨æ–°çš„è·¯å¾„å·¥å…·è·å–SumatraPDFè·¯å¾„
- âœ… å¢å¼ºè·¯å¾„å­˜åœ¨æ€§æ£€æŸ¥
- âœ… æ”¹è¿›é”™è¯¯æç¤ºä¿¡æ¯

### 3. ä¿®å¤å›¾ç‰‡å¤„ç†å™¨ (`src/handlers/image_handler.py`)
- âœ… åŒæ ·ä¿®å¤SumatraPDFè·¯å¾„é—®é¢˜
- âœ… ç¡®ä¿å›¾ç‰‡æ‰“å°åŠŸèƒ½æ­£å¸¸

### 4. æ›´æ–°æ‰“åŒ…é…ç½®
- âœ… æ·»åŠ æ–°çš„è·¯å¾„å·¥å…·æ¨¡å—åˆ°hiddenimports
- âœ… ç¡®ä¿æ‰€æœ‰å¿…è¦èµ„æºæ­£ç¡®æ‰“åŒ…

### 5. æ·»åŠ è°ƒè¯•åŠŸèƒ½
- âœ… exeå¯åŠ¨æ—¶è‡ªåŠ¨æ˜¾ç¤ºè·¯å¾„è°ƒè¯•ä¿¡æ¯
- âœ… ä¾¿äºæ’æŸ¥è·¯å¾„ç›¸å…³é—®é¢˜

## ğŸ¯ ä¿®å¤ç»“æœ

ç°åœ¨çš„exeæ–‡ä»¶åº”è¯¥èƒ½å¤Ÿï¼š
- âœ… æ­£ç¡®æ‰¾åˆ°SumatraPDFç¨‹åº
- âœ… æˆåŠŸæ‰“å°PDFæ–‡æ¡£
- âœ… æ˜¾ç¤ºè¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯
- âœ… åœ¨å¯åŠ¨æ—¶éªŒè¯æ‰€æœ‰èµ„æºæ–‡ä»¶

## ğŸš€ ä½¿ç”¨æ–¹æ³•

1. **è¿è¡Œexeæ–‡ä»¶**:
   ```
   åŒå‡» dist/åŠå…¬æ–‡æ¡£æ‰¹é‡æ‰“å°å™¨v5.0.exe
   ```

2. **æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯**:
   - exeå¯åŠ¨æ—¶ä¼šæ˜¾ç¤ºè·¯å¾„è°ƒè¯•ä¿¡æ¯
   - ç¡®è®¤SumatraPDFè·¯å¾„æ˜¯å¦æ­£ç¡®

3. **æµ‹è¯•PDFæ‰“å°**:
   - å¯¼å…¥ä¸€ä¸ªPDFæ–‡ä»¶
   - è®¾ç½®æ‰“å°æœºå’Œæ‰“å°å‚æ•°
   - ç‚¹å‡»"å¼€å§‹æ‰“å°"

## ğŸ” æ•…éšœæ’é™¤

å¦‚æœPDFæ‰“å°ä»ç„¶æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

### è°ƒè¯•ä¿¡æ¯æ£€æŸ¥
å¯åŠ¨exeæ–‡ä»¶æ—¶åº”è¯¥çœ‹åˆ°ç±»ä¼¼ä¿¡æ¯ï¼š
```
==================================================
è·¯å¾„è°ƒè¯•ä¿¡æ¯
==================================================
sys.executable: C:\path\to\åŠå…¬æ–‡æ¡£æ‰¹é‡æ‰“å°å™¨v5.0.exe
frozen: True
sys._MEIPASS: C:\Users\...\AppData\Local\Temp\_MEI...
SumatraPDFè·¯å¾„: C:\Users\...\AppData\Local\Temp\_MEI...\external\SumatraPDF\SumatraPDF.exe
âœ… èµ„æºæ–‡ä»¶å­˜åœ¨: ...
==================================================
```

### å¸¸è§é—®é¢˜
1. **SumatraPDFä¸å­˜åœ¨**:
   - æ£€æŸ¥æ‰“åŒ…æ˜¯å¦åŒ…å«externalç›®å½•
   - ç¡®è®¤SumatraPDF.exeæ–‡ä»¶å®Œæ•´

2. **æƒé™é—®é¢˜**:
   - ç¡®ä¿exeæ–‡ä»¶æœ‰æ‰§è¡Œæƒé™
   - æ£€æŸ¥ä¸´æ—¶ç›®å½•è®¿é—®æƒé™

3. **æ‰“å°æœºé—®é¢˜**:
   - ç¡®è®¤æ‰“å°æœºé©±åŠ¨æ­£å¸¸
   - æµ‹è¯•ç³»ç»Ÿé»˜è®¤æ‰“å°åŠŸèƒ½

## ğŸ“ æŠ€æœ¯ç»†èŠ‚

### è·¯å¾„è§£æé€»è¾‘
```python
def get_resource_path(relative_path: str) -> Path:
    try:
        # PyInstallerç¯å¢ƒ
        base_path = sys._MEIPASS
    except AttributeError:
        # å¼€å‘ç¯å¢ƒ
        base_path = Path(__file__).parent.parent.parent
    
    return Path(base_path) / relative_path
```

### å…³é”®ä¿®æ”¹æ–‡ä»¶
- `src/utils/path_utils.py` (æ–°å¢)
- `src/handlers/pdf_handler.py` (ä¿®æ”¹)
- `src/handlers/image_handler.py` (ä¿®æ”¹)
- `main.py` (æ·»åŠ è°ƒè¯•)
- `åŠå…¬æ–‡æ¡£æ‰¹é‡æ‰“å°å™¨v5.0.spec` (æ›´æ–°)

---

**ç°åœ¨çš„exeæ–‡ä»¶åº”è¯¥èƒ½å¤Ÿæ­£å¸¸æ‰“å°PDFæ–‡æ¡£äº†ï¼** ğŸ‰ 